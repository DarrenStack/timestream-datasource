{
  "version":"2.0",
  "metadata":{
    "apiVersion":"2018-11-01",
    "endpointPrefix":"query.timestream",
    "jsonVersion":"1.0",
    "protocol":"json",
    "serviceAbbreviation":"Timestream Query",
    "serviceFullName":"Amazon Timestream Query",
    "serviceId":"Timestream Query",
    "signatureVersion":"v4",
    "signingName":"timestream",
    "targetPrefix":"Timestream_20181101",
    "uid":"timestream-query-2018-11-01"
  },
  "operations":{
    "CancelQuery":{
      "name":"CancelQuery",
      "http":{
        "method":"POST",
        "requestUri":"/"
      },
      "input":{"shape":"CancelQueryRequest"},
      "output":{"shape":"CancelQueryResponse"},
      "errors":[
        {"shape":"AccessDeniedException"},
        {"shape":"InternalServerException"},
        {"shape":"ThrottlingException"},
        {"shape":"ValidationException"}
      ],
      "endpointdiscovery":{"required":true},
      "idempotent":true
    },
    "DescribeEndpoints":{
      "name":"DescribeEndpoints",
      "http":{
        "method":"POST",
        "requestUri":"/"
      },
      "input":{"shape":"DescribeEndpointsRequest"},
      "output":{"shape":"DescribeEndpointsResponse"},
      "errors":[
        {"shape":"InternalServerException"},
        {"shape":"ValidationException"}
      ],
      "endpointoperation":true
    },
    "Query":{
      "name":"Query",
      "http":{
        "method":"POST",
        "requestUri":"/"
      },
      "input":{"shape":"QueryRequest"},
      "output":{"shape":"QueryResponse"},
      "errors":[
        {"shape":"AccessDeniedException"},
        {"shape":"InternalServerException"},
        {"shape":"ThrottlingException"},
        {"shape":"ValidationException"}
      ],
      "endpointdiscovery":{"required":true}
    }
  },
  "shapes":{
    "AccessDeniedException":{
      "type":"structure",
      "members":{
        "Message":{"shape":"ServiceErrorMessage"}
      },
      "exception":true,
      "synthetic":true
    },
    "AvailabilityErrorMessage":{"type":"string"},
    "CancelQueryRequest":{
      "type":"structure",
      "required":["QueryId"],
      "members":{
        "QueryId":{"shape":"String"}
      }
    },
    "CancelQueryResponse":{
      "type":"structure",
      "members":{
        "CancellationMessage":{"shape":"String"}
      }
    },
    "ClientRequestToken":{
      "type":"string",
      "max":128,
      "min":32
    },
    "ColumnInfo":{
      "type":"structure",
      "required":["Type"],
      "members":{
        "Name":{"shape":"String"},
        "Type":{"shape":"Type"}
      }
    },
    "ColumnInfoList":{
      "type":"list",
      "member":{"shape":"ColumnInfo"}
    },
    "Datum":{
      "type":"structure",
      "members":{
        "ScalarValue":{"shape":"ScalarValue"},
        "TimeSeriesValue":{"shape":"TimeSeriesDataPointList"},
        "ArrayValue":{"shape":"DatumList"},
        "RowValue":{"shape":"Row"},
        "NullValue":{"shape":"NullableBoolean"}
      }
    },
    "DatumList":{
      "type":"list",
      "member":{"shape":"Datum"}
    },
    "DescribeEndpointsRequest":{
      "type":"structure",
      "members":{
      }
    },
    "DescribeEndpointsResponse":{
      "type":"structure",
      "required":["Endpoints"],
      "members":{
        "Endpoints":{"shape":"Endpoints"}
      }
    },
    "Endpoint":{
      "type":"structure",
      "required":[
        "Address",
        "CachePeriodInMinutes"
      ],
      "members":{
        "Address":{"shape":"String"},
        "CachePeriodInMinutes":{"shape":"Long"}
      }
    },
    "Endpoints":{
      "type":"list",
      "member":{"shape":"Endpoint"}
    },
    "ErrorMessage":{"type":"string"},
    "InternalServerException":{
      "type":"structure",
      "members":{
        "Message":{"shape":"ErrorMessage"}
      },
      "exception":true
    },
    "Long":{"type":"long"},
    "MaxQueryResults":{
      "type":"integer",
      "box":true,
      "max":1000,
      "min":1
    },
    "NullableBoolean":{
      "type":"boolean",
      "box":true
    },
    "QueryRequest":{
      "type":"structure",
      "required":["QueryString"],
      "members":{
        "QueryString":{"shape":"String"},
        "ClientToken":{
          "shape":"ClientRequestToken",
          "idempotencyToken":true
        },
        "QueryDescription":{"shape":"String"},
        "NextToken":{"shape":"String"},
        "MaxRows":{"shape":"MaxQueryResults"}
      }
    },
    "QueryResponse":{
      "type":"structure",
      "required":[
        "QueryId",
        "Rows",
        "ColumnInfo"
      ],
      "members":{
        "QueryId":{"shape":"String"},
        "NextToken":{"shape":"String"},
        "Rows":{"shape":"RowList"},
        "ColumnInfo":{"shape":"ColumnInfoList"}
      }
    },
    "Row":{
      "type":"structure",
      "required":["Data"],
      "members":{
        "Data":{"shape":"DatumList"}
      }
    },
    "RowList":{
      "type":"list",
      "member":{"shape":"Row"}
    },
    "ScalarType":{
      "type":"string",
      "enum":[
        "VARCHAR",
        "BOOLEAN",
        "BIGINT",
        "DOUBLE",
        "TIMESTAMP",
        "DATE",
        "TIME",
        "INTERVAL_DAY_TO_SECOND",
        "INTERVAL_YEAR_TO_MONTH",
        "UNKNOWN"
      ]
    },
    "ScalarValue":{"type":"string"},
    "ServiceErrorMessage":{"type":"string"},
    "String":{"type":"string"},
    "ThrottlingException":{
      "type":"structure",
      "members":{
        "message":{"shape":"AvailabilityErrorMessage"}
      },
      "exception":true,
      "synthetic":true
    },
    "TimeSeriesDataPoint":{
      "type":"structure",
      "required":[
        "Time",
        "Value"
      ],
      "members":{
        "Time":{"shape":"Timestamp"},
        "Value":{"shape":"Datum"}
      }
    },
    "TimeSeriesDataPointList":{
      "type":"list",
      "member":{"shape":"TimeSeriesDataPoint"}
    },
    "Timestamp":{"type":"string"},
    "Type":{
      "type":"structure",
      "members":{
        "ScalarType":{"shape":"ScalarType"},
        "ArrayColumnInfo":{"shape":"ColumnInfo"},
        "TimeSeriesMeasureValueColumnInfo":{"shape":"ColumnInfo"},
        "RowColumnInfo":{"shape":"ColumnInfoList"}
      }
    },
    "ValidationException":{
      "type":"structure",
      "members":{
        "Message":{"shape":"ErrorMessage"}
      },
      "exception":true
    }
  }
}
